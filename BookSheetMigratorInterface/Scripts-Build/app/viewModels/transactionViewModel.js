define(["knockout"],function(e){return function(n,r){function s(){u()}function o(){i.buyerContactId(null)}function u(){i.buyers().every(function(e){return e.dealerId===i.buyerDealerId()?(i.buyerContacts(e.contacts),!1):!0})}var i=this;i.transactionUri=r,i.eventId=n.eventId,i.transactionId=n.transactionId,i.bidAmount=e.observable(n.bidAmount),i.soldDate=e.observable(n.soldDate),i.sellerDmvNumber=n.sellerDmvNumber,i.sellerDealerId=e.observable(n.sellerDealerId),i.sellerCompanyName=n.sellerCompanyName,i.sellerLastName=n.sellerLastName,i.sellerFirstName=n.sellerFirstName,i.sellerAddress=n.sellerAddress,i.sellerCity=n.sellerCity,i.sellerState=n.sellerState,i.sellerZip=n.sellerZip,i.sellerPhone=n.sellerPhone,i.buyerDmvNumber=n.buyerDmvNumber,i.buyerDealerId=e.observable(n.buyerDealerId),i.buyerContactId=e.observable(n.buyerContactId),i.buyerCompanyName=n.buyerCompanyName,i.buyerLastName=n.buyerLastName,i.buyerFirstName=n.buyerFirstName,i.buyerAddress=n.buyerAddress,i.buyerCity=n.buyerCity,i.buyerState=n.buyerState,i.buyerZip=n.buyerZip,i.buyerPhone=n.buyerPhone,i.transportFee=e.observable(n.transportFee),i.mileage=n.mileage,i.make=n.make,i.model=n.model,i.vin=n.vin,i.year=n.year,i.sellers=e.observableArray(n.sellers),i.buyers=e.observableArray(n.buyers),i.buyerContacts=e.observableArray(),i.firstTimeLoading=!0,i.buyerDealerId.subscribe(function(){u(),o()}),i.doImport=e.observable(!1),i.importable=e.computed(function(){return i.sellerDealerId()!=null&&i.buyerDealerId()!=null&&i.buyerContactId()!=null&&i.bidAmount()>1e3&&i.transportFee()}),i.importSale=function(){var e={transactions:[{eventId:i.eventId,transactionId:i.transactionId}]};$.ajax({url:i.transactionUri+"import",type:"POST",data:e,contentType:"application/json"})},s()}});